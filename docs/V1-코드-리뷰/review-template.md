# 코드 리뷰 템플릿 (FSD + Next.js 기준)

이 템플릿은 **FSD 구조 준수**, **Next.js/React 성능 규칙**, **유지보수성**을
일관되게 점검하기 위한 기준이다.

## 리뷰 출력 포맷
1. **요약**: 변경 목적과 리스크 1~2문장
2. **중요 이슈**: 반드시 수정해야 하는 문제 (있다면)
3. **개선 제안**: 성능/가독성/구조 개선
4. **질문**: 스펙 모호, 의도 확인 필요

## 1) 구조/아키텍처 (FSD)
- `src/app/`에 도메인 로직/상태/재사용 유틸이 들어갔는가
- 레이어 단방향 의존성(`app` -> `widgets` -> `features` -> `entities` -> `shared`)
- 동일 레이어 slice 간 직접 의존이 생겼는가
- slice 내부 구현에 대한 **deep import**가 있는가
- 공용 API 위치가 재사용 범위에 맞는가

## 2) Next.js/React 성능 체크 (Vercel 가이드)
### Waterfall 제거
- 독립 요청이 직렬 `await`로 묶여 있지는 않은가
- 서버 컴포넌트에서 병렬 fetch 구조가 가능한가

### 번들 최적화
- 무거운 컴포넌트는 `next/dynamic` 적용 가능한가
- 조건부 기능은 지연 로딩 가능한가
- 제3자 스크립트는 hydration 이후로 미룰 수 있는가

### 렌더/리렌더
- 비싼 계산/JSX가 매 렌더에 반복되지는 않는가
- `useEffect`로 파생 상태를 만들고 있지는 않은가
- 의존성 배열이 비원시 값으로 불안정하지 않은가

## 3) 데이터/상태 관리
- React Query 캐시와 UI 상태가 섞이지 않았는가
- 전역 상태는 재사용 범위에 맞는가 (`features` vs `shared`)
- 서버 데이터는 클라이언트로 과도하게 직렬화되지 않는가

## 4) 안정성/에러 처리
- 외부 호출 실패 시 사용자 경험이 정의되어 있는가
- 오류 케이스가 로그만 남기고 무시되지 않는가
- 비동기 로직의 에러 전파가 명확한가

## 5) 코드 품질/규칙
- 린트/포맷 규칙 위반 가능성이 있는가
- 불필요한 eslint-disable 주석이 추가되었는가
- 커밋 훅에 걸릴 만한 포맷 이슈가 있는가

## 6) 주의사항 (프로젝트 특수 규칙)
- **Public Interface 규칙**: 외부 레이어는 `index.ts`만 import
- **FSD 우선**: Vercel 가이드의 `barrel import` 회피 규칙보다
  이 프로젝트의 Public Interface 규칙을 우선한다

