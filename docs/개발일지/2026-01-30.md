# 개발일지 - 2026-01-30

## 작업 요약
- 이력서 수정 API를 전체 수정(PATCH `/api/v1/resumes/{id}` via BFF)로 전환하고 폼 프리필 보완.
- 채팅 요청 시 이력서/공고 링크 없이도 전송 가능하도록 로직 수정.
- 토스트 UI 개선 및 네트워크 오류 처리 강화.
- 인증번호 검증 UX를 제출 버튼 기반으로 변경.
- 이력서 생성/수정 화면 헬퍼 텍스트 위치/스타일 조정.

---

## 📌 변경 사항
- 이력서 수정: 제목 수정 제거, 전체 수정 API 연동(BFF PATCH 추가)
- 이력서 수정 폼 프리필: `education_level` 반영
- 채팅 요청: `resume_id`, `job_post_url`을 null 허용
- 토스트: 상단 우측 앱 뷰 내 정렬 + 디자인 적용 + 오프라인 토스트 개선
- 인증번호: 자동 검증 제거, 제출 버튼으로 변경
- 이력서 생성/수정 헬퍼 텍스트: 버튼 위 텍스트만 표시

## 🔍 상세 내용
- 이력서 수정 API
  - 클라이언트: `/bff/resumes/{id}` PATCH 호출
  - BFF: `/api/v1/resumes/{id}`로 프록시 + 토큰 전달
  - 요청 바디: `title`, `is_fresher`, `education_level`, `content_json(careers/projects)`
- 이력서 수정 프리필
  - `educationLevel`을 form select에 매핑하여 기본 선택값 세팅
  - `mapEducationLevel`을 컴포넌트 외부로 이동(훅 의존성 경고 해결)
- 채팅 요청
  - 이력서/공고 링크 미선택 시 null 전송
  - 초기 메시지는 값이 있을 때만 저장
- 토스트/네트워크 에러
  - 디자인 변경(연핑크 에러 스타일, 우측 상단 고정, 앱 뷰 폭 제한)
  - 오프라인/Failed to fetch 케이스 토스트 처리 강화
- 인증번호 검증 UX
  - 6자리 입력 후 제출 버튼으로 검증 요청
  - 제출 버튼 위치/스타일 공용 Button 적용
- 이력서 생성/수정 헬퍼 텍스트
  - 버튼 위 텍스트만 표시, gap 제거

---

## 파일 변경 목록

### 신규 추가
- `src/entities/resumes/api/updateResume.ts`

### 수정
- `src/app/bff/resumes/[resumeId]/route.ts`
- `src/entities/resumes/index.ts`
- `src/entities/chat/types.ts`
- `src/widgets/expert-detail/ui/ExpertDetailPage.tsx`
- `src/shared/ui/toast/ToastProvider.tsx`
- `src/shared/api/commonErrorHandler.client.ts`
- `src/widgets/onboarding/ui/OnboardingProfileForm.tsx`
- `src/widgets/my-page-verify/ui/MyPageVerify.tsx`
- `src/widgets/resume-edit/ui/ResumeEditPage.tsx`

