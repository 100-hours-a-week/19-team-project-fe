'use client';

import { useState } from 'react';
import Image from 'next/image';

import { KakaoLoginButton, useSocialLoginFlow } from '@/features/auth';
import { BottomSheet } from '@/shared/ui/bottom-sheet';
import charSns from '@/shared/icons/char_sns.png';

const TERMS_TEXT = `# RE:FIT 이용약관

## 제1조 (목적)

본 약관은 일구하조(이하 “회사”)가 제공하는 RE:FIT(이하 “서비스”)의 이용과 관련하여 회사와 이용자 간의 권리·의무 및 책임사항, 기타 필요한 사항을 규정함을 목적으로 합니다.

## 제2조 (정의)

1. “서비스”란 회사가 제공하는 RE:FIT 웹/모바일 및 관련 제반 서비스(이력서 업로드, AI 기반 파싱·분석·추천, 리포트 생성, 현직자 정보 탐색, 멘토링/상담 기능, 채팅 등)를 말합니다.
2. “이용자”란 본 약관에 따라 서비스를 이용하는 회원 및 비회원을 말합니다.
3. “회원”이란 서비스에 회원가입을 완료하고 회사가 제공하는 서비스를 이용하는 자를 말합니다.
4. “콘텐츠”란 이용자가 서비스 내에 게시·업로드·전송하는 텍스트, 이미지, 파일(PDF/이미지 이력서 등), 링크, 메시지 등 일체의 정보를 말합니다.
5. “이력서 파일”이란 이용자가 서비스에 업로드하는 이력서/경력기술서/포트폴리오 등 문서 파일 또는 이미지 파일을 말합니다.
6. “AI 결과물”이란 이력서 파싱 결과, 요약·추천·리포트, 직무/공고 매칭 결과 등 AI 기반 기능을 통해 생성·제공되는 출력물을 말합니다.
7. “현직자(멘토)”란 서비스에 프로필 정보를 등록한 회원 또는 회사가 제휴/연동을 통해 제공하는 전문가를 말합니다.

## 제3조 (약관의 효력 및 변경)

1. 회사는 본 약관을 서비스 초기 화면 또는 연결 화면에 게시합니다.
2. 회사는 관련 법령을 위반하지 않는 범위에서 약관을 변경할 수 있습니다.
3. 약관 변경 시 적용일자 및 변경 사유를 명시하여 적용일자 7일 전부터 공지합니다. 다만 이용자에게 불리하거나 중요한 변경은 30일 전부터 공지합니다.
4. 이용자가 변경된 약관에 동의하지 않는 경우 서비스 이용을 중단하고 탈퇴할 수 있으며, 변경 공지 후 적용일자까지 거부 의사를 표시하지 않으면 동의한 것으로 봅니다.

## 제4조 (이용계약의 성립)

1. 이용계약은 이용자가 약관에 동의하고 회원가입을 신청한 후 회사가 승낙함으로써 성립합니다.
2. 회사는 다음 각 호의 경우 승낙을 거절하거나 사후에 이용계약을 해지할 수 있습니다.
   1. 타인의 명의 도용 등 허위 정보로 신청한 경우
   2. 법령 또는 약관을 위반하여 신청한 경우
   3. 서비스 운영에 중대한 지장을 초래할 우려가 있는 경우

## 제5조 (회원정보 관리)

1. 회원은 회원정보가 변경된 경우 서비스 내에서 정보를 수정하거나 회사에 요청하여 변경해야 합니다.
2. 회원정보 미변경으로 발생한 불이익에 대하여 회사는 책임을 지지 않습니다.

## 제6조 (계정 및 보안)

1. 계정 및 인증수단(비밀번호, 소셜 로그인 토큰 등)의 관리 책임은 회원에게 있습니다.
2. 회원은 계정 도용 또는 부정 사용을 인지한 경우 즉시 회사에 통지해야 하며, 회사의 안내에 따라야 합니다.

## 제7조 (서비스 제공 및 운영)

1. 회사는 다음 기능을 포함하여 서비스를 제공합니다(일부 기능은 변경될 수 있음).
   1. 이력서 파일 업로드 및 문서 처리(형식 변환, OCR 등)
   2. AI 기반 이력서 파싱/요약/정규화 및 자동 입력 보조
   3. 공고/직무/역량 기반 분석 및 추천
   4. 리포트(커리어 피드백/개선점/액션 아이템 등) 생성
   5. 현직자 프로필 탐색 및 추천
   6. 채팅/커뮤니케이션 기능(제공되는 경우)
2. 회사는 서비스 품질 향상 또는 운영상 필요에 따라 서비스의 전부 또는 일부를 변경할 수 있습니다.
3. 회사는 정기점검, 유지보수, 업데이트를 위해 서비스 제공을 일시 중단할 수 있으며, 가능한 사전에 공지합니다.

## 제8조 (이력서 파일 및 민감정보 처리)

1. 이용자는 이력서 파일 업로드 시, 해당 파일에 포함된 정보(개인정보 및 민감할 수 있는 정보 포함)에 대해 업로드 권한을 보유해야 하며, 제3자의 권리를 침해하지 않아야 합니다.
2. 회사는 서비스 제공을 위해 이력서 파일을 처리할 수 있으며, 처리 방식 및 보관 정책은 개인정보처리방침 및 서비스 내 고지에 따릅니다.
3. 회사는 개인정보 보호를 위해 일부 데이터에 대해 비식별화/마스킹 처리를 적용할 수 있습니다.
4. 회사는 보안 및 운영 정책에 따라 이력서 파일 또는 파싱 결과를 일시적으로만 처리(Transient Processing)하거나, 저장 기간을 제한할 수 있습니다.

## 제9조 (AI 기반 기능의 한계 및 이용자 책임)

1. AI 결과물은 통계적·확률적 방식에 의해 생성되며, 정확성·완전성·최신성·특정 목적 적합성을 보장하지 않습니다.
2. 이용자는 AI 결과물을 참고자료로 활용해야 하며, 중요한 의사결정(지원/이직/면접/계약 등)은 이용자가 추가 확인 후 결정해야 합니다.
3. 이용자가 AI 결과물을 그대로 제출·공유함으로써 발생하는 불이익(허위 기재, 오기재, 사실관계 오류 등)에 대해 회사는 책임을 지지 않습니다.
4. 회사는 AI 모델, 프롬프트, 파이프라인, 평가기준 등을 개선하기 위해 변경할 수 있으며, 이로 인해 결과물의 형식/품질/내용이 달라질 수 있습니다.

## 제10조 (현직자/멘토 및 커뮤니케이션 기능)

1. 현직자와 AI 멘토의 정보 및 조언은 해당 제공자 또는 제휴처의 견해일 수 있으며 회사의 공식 입장이 아닙니다.
2. 회사는 현직자와 AI 멘토의 답변·상담 내용의 정확성 또는 결과(합격, 처우 개선 등)를 보증하지 않습니다.
3. 채팅/커뮤니케이션 기능 이용 시 이용자는 관계 법령 및 약관을 준수해야 하며, 괴롭힘/혐오/차별/성희롱/불법 콘텐츠 유포 등의 행위를 해서는 안 됩니다.
4. 회사는 안전한 서비스 운영을 위해 신고/제재/모니터링 정책을 운영할 수 있으며, 위반 시 이용 제한 조치를 할 수 있습니다.

## 제11조 (이용자의 의무 및 금지행위)

이용자는 다음 행위를 해서는 안 됩니다.

1. 타인의 개인정보/계정 도용, 허위 정보 등록
2. 서비스의 정상 운영 방해(과도한 요청, 취약점 공격, 비정상 트래픽 유발 등)
3. 이력서/콘텐츠에 불법 정보, 타인 권리 침해 내용 게시
4. 회사 또는 제3자의 지식재산권 침해
5. 회사의 사전 동의 없는 광고/홍보/스팸, 영리 목적의 무단 사용
6. AI 결과물의 취약점 악용(프롬프트 인젝션, 우회 시도 등) 또는 모델/시스템 역공학 시도
7. 기타 법령 및 공서양속에 반하는 행위

## 제12조 (콘텐츠 및 지식재산권)

1. 서비스 및 서비스에 포함된 소프트웨어, UI, 상표, 로고 등 일체의 지식재산권은 회사 또는 정당한 권리자에게 귀속됩니다.
2. 이용자가 서비스 내에 게시한 콘텐츠의 권리는 원칙적으로 이용자에게 귀속됩니다.
3. 다만 회사는 서비스 제공·운영·개선(노출, 저장, 전송, 품질 향상, 오류 분석 등)을 위해 필요한 범위에서 이용자의 콘텐츠를 이용할 수 있는 비독점적·무상 사용권을 가집니다.
4. 이용자는 자신이 게시한 콘텐츠가 제3자의 권리를 침해하지 않도록 해야 하며, 분쟁 발생 시 이용자가 책임을 부담합니다.

## 제13조 (유료서비스)

1. 회사는 일부 기능을 유료로 제공할 수 있으며, 유료서비스의 내용, 가격, 결제 방식, 제공 기간은 서비스 화면 또는 별도 정책으로 고지합니다.
2. 결제 취소/환불/해지는 관련 법령 및 회사의 환불정책(별도 고지)에 따릅니다.
3. 구독형 서비스의 경우 자동결제 여부, 갱신 주기, 해지 방법을 사전에 고지합니다.

## 제14조 (서비스 이용 제한 및 계약 해지)

1. 회사는 이용자가 약관을 위반하거나 서비스 운영을 방해하는 경우 사전 통지 후 서비스 이용을 제한할 수 있습니다. 다만 긴급한 경우 사후 통지할 수 있습니다.
2. 회원은 언제든지 서비스 내 탈퇴 기능을 통해 이용계약을 해지할 수 있습니다.
3. 해지/탈퇴 후에도 관련 법령 및 회사 정책에 따라 보관이 필요한 정보는 일정 기간 보관될 수 있습니다. 단, 회사는 회원 탈퇴 시 회원의 데이터(이력서, 리포트 등)를 반환할 의무가 없으며, 회원은 탈퇴 전 필요한 데이터를 직접 백업해야 합니다.

## 제15조 (책임의 제한)

1. 회사는 천재지변, 불가항력, 이용자 귀책 사유로 인한 서비스 장애에 대해 책임을 지지 않습니다.
2. 회사는 서비스가 제공하는 분석/추천/리포트 등으로 인한 취업 성공, 합격, 처우 개선 등 특정 성과를 보장하지 않습니다.
3. 회사는 이용자 간 또는 이용자와 제3자 간 분쟁에 개입하지 않으며, 해당 분쟁은 당사자들이 해결합니다.

## 제16조 (손해배상)

이용자가 본 약관 또는 관련 법령을 위반하여 회사에 손해를 발생시킨 경우 이용자는 회사가 입은 손해를 배상해야 합니다.

## 제17조 (개인정보보호)

회사는 관련 법령에 따라 이용자의 개인정보를 보호하며, 개인정보 처리에 관한 사항은 별도의 개인정보처리방침에 따릅니다.

## 제18조 (분쟁해결)

1. 회사는 이용자의 문의 및 불만 처리를 위한 고객센터를 운영합니다.
2. 회사와 이용자는 분쟁이 발생한 경우 성실히 협의하여 해결하도록 노력합니다.

## 제19조 (준거법 및 관할)

1. 본 약관은 대한민국 법령을 준거법으로 합니다.
2. 서비스 이용과 관련하여 분쟁이 발생한 경우 회사의 본점 소재지를 관할하는 법원을 전속 관할로 합니다(또는 민사소송법에 따름).

---

## 부칙

- 공고일자: [2026.02.03]
- 시행일자: [2026.02.03]

# RE:FIT 개인정보처리방침

일구하조(이하 “회사”)는 「개인정보 보호법」 등 관련 법령을 준수하며, 이용자의 개인정보를 보호하기 위해 다음과 같은 개인정보처리방침을 수립·공개합니다.

- 공고일자: 2026.02.03
- 시행일자: 2026.02.03

---

## 1. 개인정보의 처리 목적

회사는 다음의 목적을 위해 개인정보를 처리합니다. 처리한 개인정보는 아래 목적 이외의 용도로는 이용되지 않으며, 목적 변경 시 별도 동의를 받습니다.

1. 회원 가입 및 관리
   - 본인 식별·인증, 회원자격 유지·관리, 부정 이용 방지, 서비스 이용 안내 및 고지
2. 서비스 제공(핵심 기능)
   - 이력서 업로드 및 문서 처리(OCR/형식 변환 등)
   - AI 기반 이력서 파싱/요약/정규화, 리포트 생성, 추천 기능 제공
   - (제공되는 경우) 멘토/현직자 탐색, 상담/채팅 기능 제공
3. 고객 지원 및 민원 처리
   - 문의 응대, 분쟁 조정, 공지·안내, 서비스 품질 개선
4. 서비스 안정성 및 보안
   - 로그 분석, 장애 대응, 보안 이벤트 탐지, 비정상 이용 방지
5. 마케팅/프로모션(선택)
   - 이벤트/혜택 알림, 맞춤형 안내(별도 동의한 경우에 한함)

---

## 2. 처리하는 개인정보의 항목

### (1) 회원가입/계정 정보

- (필수) 이메일(또는 소셜 로그인 식별자), 닉네임, 비밀번호(자체 로그인 시)
- (선택) 프로필 이미지, 자기소개, 관심 직무/기술스택 등

### (2) 서비스 이용 과정에서 생성·수집되는 정보

- 접속 로그, IP, 쿠키/기기 정보(브라우저/OS), 이용 기록, 서비스 내 활동 기록, 오류 로그 등

### (3) 이력서/문서 업로드 관련 정보

- 이용자가 업로드한 이력서 파일(PDF/이미지 등) 및 그 안의 정보(예: 이름, 연락처, 학력·경력·자격 등)
- AI 파싱을 위한 문서 추출 텍스트, 구조화된 파싱 결과(JSON 등)

※ 이력서 파일에는 개인정보(연락처, 이메일, 주소 등)가 포함될 수 있습니다. 회사는 개인정보 보호를 위해 마스킹/비식별화 처리 를 적용할 수 있습니다.

### (4) 결제 정보(유료서비스 제공 시)

- 결제 승인 정보(결제일시, 결제수단 종류, 결제금액, 결제상태, 결제/환불 식별값 등)
- 실제 카드번호 등 민감한 결제정보는 결제대행사(PG)가 처리하며, 회사는 원칙적으로 저장하지 않습니다.

### (5) 고객 문의 시

- 이름(또는 닉네임), 이메일, 문의 내용, 첨부파일(이용자가 첨부한 경우)

---

## 3. 개인정보의 처리 및 보유 기간

회사는 법령에 따른 개인정보 보유·이용기간 또는 정보주체로부터 개인정보를 수집 시 동의받은 보유·이용기간 내에서 개인정보를 처리·보유합니다.

1. 회원 계정 정보
   - 보유기간: 회원 탈퇴 시까지
   - 단, 부정 이용 방지/분쟁 대응을 위해 필요한 경우 관련 법령에 따라 일정 기간 보관
2. 이력서 파일 및 AI 파싱 결과
   - 보유기간: 서비스 제공을 위한 최소 기간 동안 보관 후 파기
   - 기본 원칙: Transient Processing(일시 처리) 정책에 따라, 원문 이력서 파일 또는 파싱 결과를 영구 보관하지 않을 수 있으며, 운영 정책에 따라 보관 기간이 제한될 수 있습니다(서비스 화면 또는 별도 고지).
3. 서비스 이용 기록(로그)
   - 보유기간: 3개월 (보안 및 안정성 확보 목적)
   - 단, 통신비밀보호법 등 관련 법령이 요구하는 경우 그에 따름
4. 고객 문의
   - 보유기간: 문의 처리 완료 후 또는 관련 법령에 따른 기간
5. 관련 법령에 따른 보관 예시(해당 시)
   - 계약/청약철회/대금결제/재화 공급 기록: 3개월
   - 소비자 불만 또는 분쟁 처리 기록: 3개월
   - 표시/광고에 관한 기록: 3개월
   - 웹사이트 접속 기록: 3개월

---

## 4. 개인정보의 제3자 제공

회사는 원칙적으로 이용자의 개인정보를 제3자에게 제공하지 않습니다.

다만, 아래의 경우 예외로 합니다.

1. 이용자가 사전에 동의한 경우
2. 법령에 근거가 있거나 수사기관의 적법한 절차에 따른 요청이 있는 경우

---

## 5. 개인정보 처리의 위탁

회사는 서비스 제공을 위해 아래와 같이 개인정보 처리 업무를 위탁할 수 있으며, 위탁 시 관련 법령에 따라 안전하게 관리·감독합니다.

| 수탁자 | 위탁 업무 내용 | 보유/이용기간 |
| --- | --- | --- |
| [예: AWS / NCP 등 클라우드] | 인프라 운영(서버/DB/스토리지), 로그 관리 | 계약 종료 또는 위탁 목적 달성 시 |
| [예: S3 호환 스토리지] | 파일 저장(이력서 업로드 파일) | 동일 |
| [예: 메일 발송 서비스] | 이메일 안내/인증 메일 발송 | 동일 |
| [예: PG사] (유료서비스 시) | 결제 처리 | 관련 법령에 따른 기간 |
| Google LLC | AI 기반 이력서 파싱·분석·추천 및 챗봇 기능 제공 | 위탁 목적 달성 시까지 (또는 계약 종료 시까지) |

실제 위탁사/업무는 운영 환경에 따라 달라질 수 있으며, 변경 시 본 방침에 반영하여 고지합니다.

---

## 6. 개인정보의 국외 이전

회사는 원칙적으로 이용자의 개인정보를 국내에서 처리합니다.

다만, 클라우드/AI 서비스 이용 과정에서 국외 이전이 발생할 수 있으며, 해당 경우 아래 내용을 고지하고 필요한 절차(동의 등)를 이행합니다.

- 이전 받는 자: Google LLC
- 이전 국가: 미국 (USA)
- 이전 일시 및 방법: 서비스 내 AI 기능 이용 시점에 정보통신망을 통해 수시 전송
- 이전 항목: 이용자가 입력한 텍스트, 이력서 내 추출 텍스트, 프롬프트 데이터
- 이용 목적: AI 모델을 통한 답변 생성 및 이력서 분석
- 보유 기간: Google의 API 데이터 처리 정책에 따르며, 처리 완료 후 즉시 파기 (단, 로그 등 관리적 목적으로 보관되는 경우 해당 정책에 따름)

---

## 7. 개인정보의 파기 절차 및 방법

회사는 개인정보 보유기간의 경과, 처리 목적 달성 등 개인정보가 불필요하게 되었을 때 지체 없이 파기합니다.

1. 파기 절차
   - 파기 사유가 발생한 개인정보를 선별하고, 내부 절차에 따라 파기합니다.
2. 파기 방법
   - 전자적 파일: 복구 불가능한 방식으로 삭제(영구삭제/덮어쓰기 등)
   - 종이 문서: 분쇄 또는 소각

---

## 8. 정보주체와 법정대리인의 권리·의무 및 행사방법

이용자는 언제든지 다음 권리를 행사할 수 있습니다.

1. 개인정보 열람 요구
2. 개인정보 정정·삭제 요구
3. 개인정보 처리정지 요구
4. 동의 철회(선택 동의 항목)

권리 행사는 서비스 내 설정/고객센터를 통해 가능하며, 회사는 지체 없이 조치합니다.

법정대리인은 만 14세 미만 아동의 개인정보에 대해 권리를 행사할 수 있습니다(서비스 정책에 따라 미성년자 가입 제한 가능).

---

## 9. 개인정보의 안전성 확보조치

회사는 개인정보 보호를 위해 다음과 같은 조치를 취합니다.

- 관리적 조치: 내부관리계획 수립, 정기 교육, 접근권한 최소화
- 기술적 조치: 접근통제, 암호화(전송구간 TLS 등), 로그 모니터링, 취약점 점검
- 물리적 조치: 전산실/서버실 접근 통제(해당 시)

---

## 10. 개인정보 자동 수집 장치의 설치·운영 및 거부

회사는 서비스 제공을 위해 쿠키(cookie) 등 자동 수집 장치를 사용할 수 있습니다.

- 목적: 로그인 유지, 이용 환경 개선, 보안 강화 등
- 이용자는 브라우저 설정을 통해 쿠키 저장을 거부할 수 있습니다.
- 단, 쿠키 거부 시 일부 기능 이용에 제한이 있을 수 있습니다.

---

## 11. 개인정보 보호책임자 및 문의처

회사는 개인정보 처리에 관한 업무를 총괄해서 책임지고, 불만처리 및 피해구제를 위해 아래와 같이 개인정보 보호책임자를 지정합니다.

- 개인정보 보호책임자: Daniel(정민수) / CEO
- 연락처: [이메일]
- 고객센터/문의: [이메일]

또한 이용자는 개인정보 침해에 대한 신고/상담이 필요한 경우 아래 기관에 문의할 수 있습니다.

- 개인정보침해신고센터(한국인터넷진흥원): 118
- 개인정보분쟁조정위원회: 1833-6972
- 대검찰청 사이버수사과: 1301
- 경찰청 사이버범죄 신고: 182

---

## 12. 고지의 의무

본 개인정보처리방침 내용 추가·삭제·수정이 있을 경우, 회사는 변경사항의 시행 7일 전(중요 변경 30일 전)부터 서비스 내 공지사항 등을 통해 고지합니다.`;

function renderLegalText(text: string) {
  return text.split('\n').map((rawLine, index) => {
    const cleaned = rawLine
      .replace(/^#+\s*/, '')
      .replace(/\*\*/g, '')
      .trim();
    if (!cleaned) {
      return <div key={`legal-spacer-${index}`} className="h-3" />;
    }

    let className = 'text-[12px] text-text-body';
    if (
      /^제\d+조/.test(cleaned) ||
      cleaned.startsWith('부칙') ||
      cleaned.startsWith('[RE:FIT]') ||
      cleaned.startsWith('RE:FIT 개인정보처리방침')
    ) {
      className = 'text-[14px] font-semibold text-text-body';
    } else if (/^\d+\.\s/.test(cleaned)) {
      className = 'text-[13px] font-semibold text-text-body';
    } else if (cleaned.startsWith('-')) {
      className = 'text-[12px] text-text-body';
    }

    return (
      <p key={`legal-line-${index}`} className={className}>
        {cleaned}
      </p>
    );
  });
}

export default function SocialLoginPage() {
  const [termsOpen, setTermsOpen] = useState(false);
  const {
    restoreOpen,
    setRestoreOpen,
    restoreData,
    restoreError,
    isRestoring,
    handleSignupChoice,
    handleRestoreChoice,
  } = useSocialLoginFlow();

  return (
    <main className="flex min-h-screen flex-col bg-gradient-to-b from-[#fff8cc] via-white to-white px-2.5 py-16 text-gray-900">
      <section className="mx-auto flex w-full max-w-md flex-1 flex-col">
        <header className="text-center">
          <p className="text-base font-semibold text-black">
            로그인 후 현직자 피드백을 Report로 받아보세요
          </p>
        </header>
        <div className="mt-6 flex flex-1 items-center justify-center">
          <Image src={charSns} alt="소셜 로그인 캐릭터" className="h-64 w-auto" priority />
        </div>
        <div className="mt-6">
          <KakaoLoginButton />
          <button
            type="button"
            onClick={() => setTermsOpen(true)}
            className="mt-3 inline-flex w-full items-center justify-center rounded-full border border-neutral-300 bg-white px-2.5 py-3 text-sm font-semibold text-black shadow-sm transition active:scale-[0.99]"
          >
            이용약관
          </button>
        </div>
      </section>

      <BottomSheet open={termsOpen} title="이용약관" onClose={() => setTermsOpen(false)}>
        <div className="space-y-1">{renderLegalText(TERMS_TEXT)}</div>
      </BottomSheet>

      <BottomSheet
        open={restoreOpen}
        title="탈퇴 계정 복구"
        actionLabel="닫기"
        onAction={() => setRestoreOpen(false)}
        onClose={() => setRestoreOpen(false)}
      >
        <div className="rounded-2xl border border-[#e6ebf2] bg-gradient-to-b from-white to-[#f4f7ff] p-4 text-text-body">
          <div className="flex items-center justify-between">
            <span className="rounded-full bg-[#e9efff] px-3 py-1 text-[11px] font-semibold text-[#3b5bcc]">
              ACCOUNT
            </span>
            <span className="text-[11px] font-semibold text-[#7a8aa5]">RESTORE</span>
          </div>

          <div className="mt-3 space-y-2">
            <p className="text-base font-semibold text-text-title">탈퇴한 계정이 확인되었습니다</p>
            <p className="text-sm text-text-caption">
              기존 계정을 복구하면 이전 프로필과 이용 기록이 그대로 복원됩니다.
            </p>
          </div>

          <div className="mt-4 rounded-xl border border-[#dbe3f3] bg-white/70 px-4 py-3">
            <div className="flex items-center justify-between text-xs text-text-caption">
              <span>계정 정보</span>
              {restoreData?.email_conflict || restoreData?.nickname_conflict ? (
                <span className="rounded-full bg-[#fff3f3] px-2 py-0.5 text-[11px] font-semibold text-[#d14d4d]">
                  중복 확인 필요
                </span>
              ) : null}
            </div>
            <div className="mt-2 space-y-1 text-sm">
              <p className="font-semibold text-text-body">{restoreData?.email ?? '-'}</p>
              <p className="text-text-caption">{restoreData?.nickname ?? '-'}</p>
            </div>
            {(restoreData?.email_conflict || restoreData?.nickname_conflict) && (
              <p className="mt-2 text-[11px] text-[#d14d4d]">
                이메일 또는 닉네임이 이미 사용 중일 수 있습니다.
              </p>
            )}
          </div>

          {restoreError ? <p className="mt-3 text-xs text-red-500">{restoreError}</p> : null}

          <div className="mt-4 flex flex-col gap-2">
            <button
              type="button"
              onClick={handleRestoreChoice}
              disabled={isRestoring}
              className="rounded-xl bg-[#3b5bcc] px-4 py-3 text-sm font-semibold text-white shadow-[0_10px_20px_rgba(59,91,204,0.2)]"
            >
              {isRestoring ? '복구 중...' : '기존 계정 복구'}
            </button>
            <button
              type="button"
              onClick={handleSignupChoice}
              className="rounded-xl border border-[#d7dfef] bg-white px-4 py-3 text-sm font-semibold text-[#2b3a55]"
            >
              새로 가입하기
            </button>
          </div>
        </div>
      </BottomSheet>
    </main>
  );
}
